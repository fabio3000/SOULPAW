<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOULPAW | The Invisible Bond</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* --- THEMES --- */
        :root {
            --bg-color: #0a0a0a;
            --text-color: #f0f0f0;
            --accent-color: #9b59b6; /* Sound: Mystisches Lila */
            --secondary-bg: #141414;
            --card-bg: rgba(255,255,255,0.03);
            --btn-text: #fff;
        }

        body.astro-mode {
            --bg-color: #fffbf5; /* Astro: Warmes Creme */
            --text-color: #2c3e50;
            --accent-color: #c5a059; /* Astro: Gold */
            --secondary-bg: #fff;
            --card-bg: #fff;
        }

        /* --- BASIS --- */
        html { scroll-behavior: smooth; }
        * { margin: 0; padding: 0; box-sizing: border-box; transition: background 0.5s ease, color 0.3s ease; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.6;
        }
        body.modal-open { overflow: hidden; }

        h1, h2, h3 { font-family: 'Cinzel', serif; letter-spacing: 1px; }

        /* --- MODAL (3 SPALTIG) --- */
        .welcome-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); backdrop-filter: blur(15px);
            z-index: 9999; display: none; align-items: center; justify-content: center;
            animation: fadeIn 0.5s; padding: 1rem;
        }
        .modal-content-wrapper {
            max-width: 1100px; width: 100%; background: #111;
            border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            border: 1px solid #333;
        }
        .modal-header { padding: 2.5rem; text-align: center; border-bottom: 1px solid #333; }
        .modal-header h2 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
        .modal-header p { font-size: 1rem; color: #888; }
        
        .modal-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; }
        .modal-choice { 
            padding: 3rem 2rem; text-align: center; cursor: pointer; transition: 0.3s; 
            border-right: 1px solid rgba(255,255,255,0.05);
        }
        .modal-choice:last-child { border-right: none; }
        .modal-choice:hover { filter: brightness(1.2); z-index: 2;}
        
        .choice-sound { background: #1a0520; color: #fff; }
        .choice-astro { background: #fffbf5; color: #2c3e50; }
        .choice-special { background: #111; color: #C5A059; position: relative; overflow: hidden;}

        .modal-button-fake {
            display: inline-block; padding: 10px 25px; border-radius: 30px;
            font-weight: 700; font-size: 0.8rem; color: #fff; 
            text-transform: uppercase; margin-top: 20px;
        }
        @media (max-width: 900px) { .modal-grid { grid-template-columns: 1fr; } .modal-content-wrapper { max-height: 90vh; overflow-y: auto; } }

        /* --- UI ELEMENTS --- */
        .brand { position: fixed; top: 20px; left: 5%; z-index: 2000; font-family: 'Cinzel', serif; font-size: 1.4rem; font-weight: 700; letter-spacing: 2px; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
        .mode-switch-container { position: fixed; top: 20px; right: 20px; z-index: 2000; background: rgba(0,0,0,0.5); backdrop-filter: blur(10px); padding: 5px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.2); display: flex; gap: 5px; }
        body.astro-mode .mode-switch-container { background: rgba(255,255,255,0.8); border-color: #ddd; }
        .switch-btn { padding: 8px 15px; border-radius: 20px; border: none; cursor: pointer; font-size: 0.75rem; font-weight: 700; background: transparent; color: #888; }
        .switch-btn.active { background: var(--accent-color); color: var(--btn-text); }

        /* --- HERO --- */
        .hero { min-height: 90vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; padding: 6rem 20px 2rem; }
        .hero-bg-sound { position: absolute; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%); z-index: -1; opacity: 1; transition: opacity 0.8s; }
        .hero-bg-astro { position: absolute; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle at center, #fff 0%, #f3f0ff 100%); z-index: -1; opacity: 0; transition: opacity 0.8s; }
        body.astro-mode .hero-bg-sound { opacity: 0; }
        body.astro-mode .hero-bg-astro { opacity: 1; }
        .hero-content { max-width: 700px; position: relative; z-index: 10; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; line-height: 1.2; }
        .cta-btn { padding: 14px 35px; background: var(--accent-color); color: var(--btn-text); border: none; border-radius: 50px; font-weight: 600; text-transform: uppercase; font-size: 0.9rem; cursor: pointer; text-decoration: none; display: inline-block; margin-top: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); transition: 0.3s; letter-spacing: 1px; }
        .cta-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
        .cta-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }

        /* --- SECTIONS --- */
        .content-section, .faq-section, #order, footer { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .is-visible { opacity: 1 !important; transform: translateY(0) !important; }
        .content-section { display: none; padding: 4rem 5%; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- VISUALS: SOUND WAVE --- */
        .visual-sound-container {
            height: 180px; display: flex; align-items: center; justify-content: center;
            background: #000; border-radius: 12px; overflow: hidden; border: 1px solid #333;
            position: relative; padding-left: 10px;
        }
        .paw-start { position: absolute; left: 10%; color: var(--accent-color); font-size: 1.2rem; z-index: 2; opacity: 0.9; transform: rotate(-10deg); transition: 0.1s; }
        .waveform-svg { width: 100%; height: 100%; margin-left: 5px; }
        .waveform-path {
            fill: none; stroke: var(--accent-color); stroke-width: 1.5px;
            stroke-linecap: round; stroke-linejoin: round; vector-effect: non-scaling-stroke;
            animation: barkAnimation 2s infinite ease-in-out;
        }
        @keyframes barkAnimation {
            0% { d: path("M0,50 L20,50 L25,50 L30,50 L35,50 L40,50 L45,50 L50,50 L55,50 L60,50 L65,50 L70,50 L100,50"); }
            10% { d: path("M0,50 L20,50 L25,20 L30,80 L35,10 L40,90 L45,30 L50,70 L55,40 L60,60 L65,50 L70,50 L100,50"); }
            20% { d: path("M0,50 L20,50 L25,45 L30,55 L40,52 L45,50 L50,50 L55,50 L60,50 L65,50 L70,50 L100,50"); }
            50% { d: path("M0,50 L20,50 L25,50 L30,50 L35,50 L40,50 L45,50 L50,50 L55,50 L60,50 L65,50 L70,50 L100,50"); }
            100% { d: path("M0,50 L20,50 L25,50 L30,50 L35,50 L40,50 L45,50 L50,50 L55,50 L60,50 L65,50 L70,50 L100,50"); }
        }
        
        /* --- ASTRO TEST & AURA --- */
        .astro-test {
            background: var(--secondary-bg); padding: 2.5rem; border-radius: 20px;
            margin: 3rem auto; text-align: center; border: 1px solid var(--accent-color);
            max-width: 600px; box-shadow: 0 10px 40px rgba(0,0,0,0.05);
        }
        .input-wrapper { display: flex; gap: 20px; justify-content: center; margin: 30px 0; flex-wrap: wrap; }
        .date-field { flex: 1; min-width: 220px; }
        .date-field label { display: block; font-size: 0.9rem; margin-bottom: 8px; font-weight: 600; color: var(--accent-color); text-transform: uppercase; letter-spacing: 1px;}
        input[type="date"] { padding: 12px; border-radius: 8px; border: 1px solid #ddd; width: 100%; font-size: 1rem; background: white; color: #333; font-family: 'Montserrat', sans-serif; cursor: pointer; }
        
        .aura-toggle-container { margin: 25px 0 15px 0; display: flex; justify-content: center; align-items: center; gap: 10px; cursor: pointer; }
        .aura-checkbox { accent-color: var(--accent-color); transform: scale(1.2); cursor: pointer; }
        
        .photo-upload-box {
            margin: 20px auto; width: 100%; max-width: 300px;
            border: 2px dashed var(--accent-color); border-radius: 15px;
            padding: 20px; cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.05);
        }
        .photo-upload-box:hover { background: rgba(255,255,255,0.1); }
        
        .aura-display {
            position: relative; width: 250px; height: 250px; margin: 20px auto;
            border-radius: 50%; overflow: hidden; display: none;
            box-shadow: 0 0 30px rgba(0,0,0,0.2); border: 4px solid var(--accent-color);
        }
        .aura-display img { width: 100%; height: 100%; object-fit: cover; }
        .aura-overlay { position: absolute; inset: 0; mix-blend-mode: hard-light; opacity: 0.6; animation: rotateAura 10s infinite linear; }
        @keyframes rotateAura { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        #tech-output { margin: 20px 0; font-family: monospace; font-size: 0.85rem; color: var(--accent-color); min-height: 20px;}
        .typing-cursor { display: inline-block; width: 8px; height: 1em; background-color: var(--accent-color); animation: blink 0.7s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        #karma-result { display: none; margin-top: 30px; }
        .blurred-text { filter: blur(4px); user-select: none; opacity: 0.6; margin: 15px 0; font-family: 'Times New Roman', serif; font-style: italic; background: linear-gradient(to bottom, transparent, var(--bg-color)); }
        .teaser-box { border: 1px dashed var(--accent-color); padding: 20px; margin-top: -30px; position: relative; z-index: 2; background: rgba(255,255,255,0.95); border-radius: 10px; }
        body:not(.astro-mode) .teaser-box { background: rgba(20,20,20,0.95); }
        .share-buttons { margin-top: 25px; display: flex; gap: 10px; justify-content: center; }
        .share-btn { padding: 10px 18px; border-radius: 20px; text-decoration: none; font-weight: 600; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 8px; }
        .share-btn.whatsapp { background: #25D366; color: white; }
        .share-btn.insta { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); color: white; }

        /* --- SHOWCASE & HOVER ANIMATIONS --- */
        .showcase { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .card { 
            background: var(--card-bg); padding: 2rem; border-radius: 15px; 
            text-align: center; border: 1px solid rgba(255,255,255,0.1); 
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            transform: perspective(1000px);
        }
        /* KEIN LILA RAND MEHR, NUR SCHATTEN UND LIFT */
        .card:hover {
            transform: perspective(1000px) rotateY(2deg) rotateX(2deg) translateY(-10px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
        }
        
        body.astro-mode .card { border: 1px solid rgba(0,0,0,0.08); box-shadow: 0 5px 20px rgba(0,0,0,0.03); }
        body.astro-mode .card:hover { box-shadow: 0 20px 50px rgba(197, 160, 89, 0.2); }

        .card h3 { margin: 1.5rem 0 0.5rem; color: var(--accent-color); font-size: 1.2rem; }
        
        /* Highlight Product Effect */
        .highlight-product { border: 2px solid var(--accent-color) !important; box-shadow: 0 0 30px rgba(197, 160, 89, 0.3) !important; transform: scale(1.02); }
        
        /* Soundwave Hover Effekte */
        #content-sound .card:hover .paw-start {
            text-shadow: 0 0 15px var(--accent-color);
            transform: scale(1.2) rotate(-15deg);
        }
        #content-sound .card:hover .waveform-path {
            animation-duration: 0.5s; /* Schneller */
            stroke-width: 3px;
        }

        /* --- VISUALS: ASTRO (CARD) --- */
        .visual-astro {
            height: 200px; display: flex; align-items: center; justify-content: center;
            background: #fdfbf7; border-radius: 10px; border: 1px solid var(--accent-color);
            position: relative; overflow: hidden;
        }
        .star { position: absolute; color: var(--accent-color); font-size: 10px; }

        /* --- FAQ --- */
        .faq-section { padding: 4rem 5%; max-width: 800px; margin: 0 auto; }
        details { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; margin-bottom: 10px; }
        body.astro-mode details { border-color: rgba(0,0,0,0.1); }
        summary { padding: 1.2rem; cursor: pointer; font-weight: 700; font-size: 1.1rem; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary::after { content: '+'; font-size: 1.5rem; color: var(--accent-color); }
        details[open] summary::after { content: '−'; }
        details div { padding: 0 1.2rem 1.2rem 1.2rem; opacity: 0.8; font-size: 0.95rem; }
        #faq-astro { display: none; } #faq-sound { display: block; }
        body.astro-mode #faq-sound { display: none; } body.astro-mode #faq-astro { display: block; }
        .steps-list { text-align: left; margin: 2rem auto; max-width: 500px; list-style: none; }
        .steps-list li { margin-bottom: 15px; display: flex; align-items: flex-start; gap: 10px; }
        .steps-list i { color: var(--accent-color); margin-top: 5px; }

        footer { text-align: center; padding: 2rem; border-top: 1px solid rgba(255,255,255,0.1); opacity: 0.6; font-size: 0.8rem; margin-top: 4rem;}
        body.astro-mode footer { border-top: 1px solid rgba(0,0,0,0.1); }
        .stardust { position: fixed; width: 4px; height: 4px; background-color: var(--accent-color); border-radius: 50%; pointer-events: none; z-index: 9999; opacity: 1; animation: fadeOut 0.8s forwards; }
        @keyframes fadeOut { to { opacity: 0; transform: translate(-50%, -50%) scale(0.3); } }
    </style>
</head>
<body>

    <div class="welcome-modal" id="welcome-modal">
        <div class="modal-content-wrapper">
            <div class="modal-header"><h2>Wähle deinen Weg</h2><p>Was möchtest du entdecken?</p></div>
            <div class="modal-grid">
                <div class="modal-choice choice-sound" onclick="switchModeAndCloseModal('sound')">
                    <i class="fas fa-wave-square" style="color: #9b59b6; font-size: 3rem; margin-bottom: 15px;"></i>
                    <h2 style="color: #9b59b6;">Eternal Echo</h2><p>Soundwave Art & Tattoo.</p><span class="modal-button-fake" style="background: #9b59b6;">Hier starten</span>
                </div>
                <div class="modal-choice choice-astro" onclick="switchModeAndCloseModal('astro')">
                    <i class="fas fa-star" style="color: #c5a059; font-size: 3rem; margin-bottom: 15px;"></i>
                    <h2 style="color: #c5a059;">Cosmic Bond</h2><p>Astro & Aura Analyse.</p><span class="modal-button-fake" style="background: #c5a059;">Hier starten</span>
                </div>
                <div class="modal-choice choice-special" style="opacity: 0.7; cursor: default;">
                    <i class="fas fa-candle-holder" style="color: #C5A059; font-size: 3rem; margin-bottom: 15px;"></i>
                    <h2 style="color: #C5A059;">Special Edition</h2>
                    <p>Digital Memorial Raum.</p>
                    <span class="modal-button-fake" style="border: 1px solid #C5A059; background: transparent; color: #C5A059;">Coming Soon</span>
                </div>
            </div>
        </div>
    </div>

    <div class="brand">SOULPAW</div>
    <div class="mode-switch-container">
        <button class="switch-btn active" onclick="switchMode('sound')"><i class="fas fa-wave-square"></i> SOUND</button>
        <button class="switch-btn" onclick="switchMode('astro')"><i class="fas fa-star"></i> ASTRO</button>
    </div>

    <header class="hero">
        <div class="hero-bg-sound"></div> <div class="hero-bg-astro"></div>
        <div class="hero-content" id="hero-sound">
            <h1>ETERNAL<br><span style="color:var(--accent-color)">ECHO</span></h1>
            <p>Dein Hund. Sein Bellen. Für immer.<br>Wir verwandeln den Klang deiner Fellnase in ein feines, minimalistisches Kunstwerk.</p>
            <a href="#content-sound" class="cta-btn">Wie es funktioniert</a>
        </div>
        <div class="hero-content" id="hero-astro" style="display:none">
            <h1>COSMIC<br><span style="color:var(--accent-color)">BOND</span></h1>
            <p>Steht eure Freundschaft in den Sternen?<br>Unser Algorithmus entschlüsselt die planetare Verbindung.</p>
            <a href="#content-astro" class="cta-btn">Check Compatibility</a>
        </div>
    </header>

    <section id="content-sound" class="content-section active fade-in-section">
        <h2 style="text-align:center;">The Sound of Love</h2>
        <p style="text-align:center; opacity:0.7; max-width: 600px; margin: 0 auto 30px auto;">
            Mehr als nur ein Bild. Es ist die visuelle Frequenz der Stimme, die dich jeden Tag begrüßt.
        </p>

        <div style="display: flex; flex-wrap: wrap; gap: 40px; justify-content: center; margin-bottom: 4rem;">
             <ul class="steps-list">
                <li><i class="fas fa-microphone-alt"></i><div><strong>1. Aufnahme machen</strong><br>Nimm das Bellen einfach mit deinem Handy auf.</div></li>
                <li><i class="fas fa-pencil-alt"></i><div><strong>2. Wir designen</strong><br>Wir zeichnen die Welle von Hand im "Fine Line" Stil.</div></li>
                <li><i class="fas fa-heart"></i><div><strong>3. Dein Unikat</strong><br>Du erhältst die Datei als Tattoo-Vorlage oder Poster.</div></li>
            </ul>
        </div>
        
        <div class="showcase">
            <div class="card fade-in-section">
                <div class="visual-sound-container">
                    <i class="fas fa-paw paw-start"></i>
                    <svg class="waveform-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
                        <path class="waveform-path" d="M0,50 L30,50 L35,20 L40,80 L45,10 L50,90 L55,30 L60,70 L65,40 L70,60 L75,50 L80,50 L100,50" />
                    </svg>
                </div>
                <h3>Fine Line Tattoo Template</h3>
                <p>Deine hochauflösende Vektordatei. Perfekt für den Tätowierer.</p>
                <br><a href="#order" class="cta-btn" style="font-size:0.8rem; padding:10px 20px;">Vorlage erstellen</a>
            </div>

            <div class="card fade-in-section" style="transition-delay: 100ms;">
                <div style="height:180px; background:#222; border-radius:12px; display:flex; flex-direction:column; align-items:center; justify-content:center; border:1px solid #444;">
                    <i class="fas fa-qrcode" style="font-size:3rem; color:var(--accent-color); margin-bottom:10px;"></i>
                    <span style="font-size:0.7rem; text-transform:uppercase; letter-spacing:1px;">Scan & Listen</span>
                </div>
                <h3>Interactive Print</h3>
                <p>Ein minimalistisches Poster für dein Zuhause.</p>
                <br><a href="#order" class="cta-btn" style="font-size:0.8rem; padding:10px 20px;">Poster gestalten</a>
            </div>
        </div>
    </section>

    <section id="content-astro" class="content-section fade-in-section">
        <h2 style="text-align:center;">Die Seelen-Formel</h2>
        <p style="text-align:center; opacity:0.7; max-width: 600px; margin: 0 auto;">
            Gib eure Geburtsdaten ein. Optional visualisieren wir auch die Aura deines Hundes.
        </p>
        
        <div class="astro-test">
            <h3><i class="fas fa-moon"></i> Seelen & Aura Check</h3>
            
            <div class="input-wrapper">
                <div class="date-field"><label>Dein Geburtstag</label><input type="date" id="dateHuman"></div>
                <div class="date-field"><label>Geburtstag des Hundes</label><input type="date" id="dateDog"></div>
            </div>

            <div class="aura-toggle-container" onclick="toggleUploadVisibility()">
                <input type="checkbox" id="aura-check" class="aura-checkbox">
                <label for="aura-check" style="cursor:pointer; font-weight:600;">Möchtest du auch die Aura sehen? (Optional)</label>
            </div>

            <div id="upload-wrapper" style="display:none; margin-top: 20px;">
                <div class="photo-upload-box" onclick="document.getElementById('aura-input').click()">
                    <i class="fas fa-camera" style="font-size:1.5rem; color:var(--accent-color);"></i>
                    <span style="margin-left:10px; font-size:0.9rem;">Hier Bild auswählen</span>
                    <input type="file" id="aura-input" accept="image/*" style="display:none" onchange="handleFileSelect(this)">
                </div>
                <p id="file-name-display" style="font-size:0.8rem; opacity:0.7;"></p>
            </div>

            <div id="tech-output" class="processing-steps"></div>
            <button id="calcBtn" class="cta-btn" onclick="calculateDeterministicKarma()">Analyse starten</button>

            <div id="karma-result">
                
                <div class="aura-display" id="aura-result-box">
                    <img id="uploaded-dog-img" src="">
                    <div class="aura-overlay" id="aura-overlay-layer"></div>
                </div>
                <p id="aura-text-desc" style="font-weight:bold; color:var(--accent-color); margin-bottom:20px; display:none;"></p>

                <div id="result-percent" style="font-size:3rem; font-weight:800; color:var(--accent-color); margin-bottom:5px;"></div>
                <p id="result-archetype" style="font-weight:bold; margin-bottom:15px; text-transform:uppercase; letter-spacing:1px;"></p>
                
                <div class="blurred-text">
                    Lorem ipsum dolor sit amet, die Position des Jupiter im fünften Haus deutet auf eine Verbindung hin...
                </div>
                <div class="teaser-box">
                    <p style="font-weight:bold; color:var(--accent-color); margin-bottom:10px;">⚠️ Detaillierte Analyse erforderlich</p>
                    <p style="font-size:0.9rem;">Das ist nur der Anfang. Die vollständige Auswertung erhältst du im Zertifikat.</p>
                    <a href="#order" class="cta-btn" style="font-size:0.8rem; padding:10px 20px;">Vollständigen Report bestellen</a>
                </div>
            </div>
        </div>

        <div class="showcase">
            <div class="card fade-in-section" id="astro-product-card" style="max-width: 500px; margin: 0 auto; opacity: 0.6;">
                <div class="visual-astro">
                    <i class="fas fa-star star" style="top:20%; left:20%"></i>
                    <i class="fas fa-star star" style="top:50%; left:50%; font-size:20px"></i>
                    <i class="fas fa-star star" style="top:80%; left:70%"></i>
                    <svg style="position:absolute; top:0; left:0; width:100%; height:100%; opacity:0.3;">
                        <line x1="20%" y1="20%" x2="50%" y2="50%" stroke="var(--accent-color)" stroke-width="1"/>
                        <line x1="50%" y1="50%" x2="70%" y2="80%" stroke="var(--accent-color)" stroke-width="1"/>
                    </svg>
                </div>
                <h3>Karma Chart (Print)</h3>
                <p>Deine persönliche Analyse auf 310g Fine Art Papier.</p>
                <br><a href="#order" class="cta-btn" style="font-size:0.8rem;">Jetzt bestellen</a>
            </div>
        </div>
    </section>

    <section class="faq-section fade-in-section">
        <h2 style="text-align:center; margin-bottom: 2rem;">Häufige Fragen</h2>
        <div id="faq-sound">
            <details><summary>Wie mache ich die perfekte Aufnahme?</summary><div>Am besten in einem ruhigen Raum. Halte das Handy-Mikrofon ca. 30cm entfernt und versuche, ein einzelnes, klares "Wuff" aufzunehmen. Eine Videoaufnahme funktioniert genauso gut!</div></details>
            <details><summary>Was ist, wenn mein Hund schon verstorben ist?</summary><div>Das tut uns sehr leid. Oft finden sich die schönsten Aufnahmen in alten Handy-Videos (z.B. vom Spielen oder aus dem Urlaub). Wir können die Tonspur aus jedem Video extrahieren, solange das Bellen zu hören ist.</div></details>
            <details><summary>Wie funktioniert das mit dem QR-Code Poster?</summary><div>Wir laden deine Audio-Datei sicher hoch und erstellen einen privaten Link. Dieser Link wird in einen QR-Code umgewandelt und dezent auf dein Poster gedruckt. Wenn du ihn mit deiner Handy-Kamera scannst, wird das Bellen sofort abgespielt.</div></details>
        </div>

        <div id="faq-astro">
            <details><summary>Ich kenne das Geburtsdatum meines Hundes nicht.</summary><div>Kein Problem! Nimm für den Astro-Check einfach das "Gotcha-Datum" – also den Tag, an dem er zu dir gekommen ist. Das ist der Beginn eurer gemeinsamen Reise und astrologisch genauso kraftvoll.</div></details>
            <details><summary>Ist die Analyse wirklich "echt"?</summary><div>Unser "Seelen-Check" ist ein liebevoller Algorithmus, der auf echter Numerologie und Sonnenzeichen-Kompatibilität basiert. Er errechnet ein deterministisches (kein zufälliges) Ergebnis. Die vollständige Analyse wird dann von Hand mit diesen Daten erstellt.</div></details>
            <details><summary>Was steht im vollständigen "Karma Chart"?</summary><div>Der vollständige Report (den du bestellst) ist eine wunderschöne PDF- oder Print-Datei. Sie enthält euren Archetypen, eure gemeinsamen Stärken, potenzielle Herausforderungen und eure spirituelle "Kraft-Farbe".</div></details>
        </div>
    </section>

    <section id="order" class="fade-in-section">
        <h2 id="order-title" style="text-align:center; margin-bottom: 0.5rem;">Dein Unikat bestellen</h2>
        <p id="order-desc" style="margin-bottom: 2rem; opacity:0.7; text-align:center;">Wähle dein Produkt direkt in unserem Shop.</p>
        
        <div style="
            background: white; 
            max-width: 900px; 
            margin: 0 auto; 
            border-radius: 40px; 
            overflow: hidden; /* Schneidet die Ecken des Shops rund ab */
            box-shadow: 0 20px 60px rgba(0,0,0,0.2); 
            height: 900px; /* Feste Höhe */
            position: relative;
        ">
            <div style="
                width:100%; height:100%; 
                display:flex; flex-direction:column; align-items:center; justify-content:center;
                background: linear-gradient(135deg, #fdfbf7 0%, #fff 100%);
                text-align: center;
                padding: 20px;
            ">
                <i class="fas fa-store" style="font-size: 4rem; color: #9b59b6; margin-bottom: 20px;"></i>
                <h3 style="font-family: 'Cinzel', serif; font-size: 2rem; margin-bottom: 10px; color: #333;">Zum SOULPAW Shop</h3>
                <p style="color: #666; max-width: 400px; margin-bottom: 30px;">
                    Unser Shop öffnet sich in einem neuen Fenster, um dir die sicherste Bestellung zu garantieren.
                </p>
                <a href="https://soulpaw.bigcartel.com" target="_blank" class="cta-btn" style="padding: 15px 40px; font-size: 1rem; background: #9b59b6;">
                    Jetzt Shop öffnen <i class="fas fa-external-link-alt" style="margin-left:8px;"></i>
                </a>
            </div>
        </div>
    </section>

    <footer class="fade-in-section">SOULPAW &copy; 2024. All rights reserved.</footer>

    <script>
        let hasCalculated = false;
        let uploadedImageSrc = null; 

        document.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash;
            if (hash === '#astro') switchMode('astro');
            else if (hash === '#sound') switchMode('sound');
            else {
                document.getElementById('welcome-modal').style.display = 'flex';
                document.body.classList.add('modal-open');
            }
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-section').forEach(section => observer.observe(section));
        });

        function switchModeAndCloseModal(mode) {
            switchMode(mode);
            document.getElementById('welcome-modal').style.display = 'none';
            document.body.classList.remove('modal-open');
        }

        function switchMode(mode) {
            const body = document.body;
            const btns = document.querySelectorAll('.switch-btn');
            const heroSound = document.getElementById('hero-sound');
            const heroAstro = document.getElementById('hero-astro');
            const sectionSound = document.getElementById('content-sound');
            const sectionAstro = document.getElementById('content-astro');
            const orderTitle = document.getElementById('order-title');

            btns.forEach(b => b.classList.remove('active'));

            if(mode === 'astro') {
                body.classList.add('astro-mode');
                btns[1].classList.add('active');
                heroSound.style.display = 'none'; heroAstro.style.display = 'block';
                sectionSound.classList.remove('active'); sectionAstro.classList.add('active');
                orderTitle.innerText = "Unlock Cosmic Data";
                window.location.hash = 'astro';
            } else {
                body.classList.remove('astro-mode');
                btns[0].classList.add('active');
                heroSound.style.display = 'block'; heroAstro.style.display = 'none';
                sectionSound.classList.add('active'); sectionAstro.classList.remove('active');
                orderTitle.innerText = "Create Soundwave";
                window.location.hash = 'sound';
            }
        }

        // --- TOGGLE UPLOAD ---
        function toggleUploadVisibility() {
            const chk = document.getElementById('aura-check');
            const wrapper = document.getElementById('upload-wrapper');
            wrapper.style.display = chk.checked ? 'block' : 'none';
        }

        // --- FILE UPLOAD HANDLER ---
        function handleFileSelect(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    uploadedImageSrc = e.target.result;
                    document.getElementById('file-name-display').innerText = "Bild ausgewählt: " + input.files[0].name;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // --- CALCULATION ---
        function calculateDeterministicKarma() {
            if(hasCalculated) return;
            const hDate = document.getElementById('dateHuman').value;
            const dDate = document.getElementById('dateDog').value;
            const btn = document.getElementById('calcBtn');
            const output = document.getElementById('tech-output');

            if(!hDate || !dDate) { alert("Bitte beide Geburtstage eingeben."); return; }
            
            hasCalculated = true;
            btn.disabled = true;
            btn.style.opacity = "0.5";
            btn.innerText = "Analysiere Sterne...";
            const steps = ["Verbinde mit NASA...", "Berechne Mondknoten...", "Match gefunden."];
            
            if(document.getElementById('aura-check').checked) {
                 steps.splice(1, 0, "Scanne energetische Signatur...");
            }

            typewriterEffect(steps, output, () => { showResults(hDate, dDate); });
        }

        function showResults(date1, date2) {
            document.getElementById('calcBtn').style.display = 'none';
            document.getElementById('tech-output').style.display = 'none';
            
            // AURA LOGIC (Nur wenn aktiv + Bild)
            if(document.getElementById('aura-check').checked && uploadedImageSrc) {
                const auraBox = document.getElementById('aura-result-box');
                auraBox.style.display = 'block';
                document.getElementById('uploaded-dog-img').src = uploadedImageSrc;
                document.getElementById('aura-text-desc').style.display = 'block';
                
                const auras = [
                    { color: "#ff0055", name: "Rubinrot (Leidenschaft)" },
                    { color: "#00ffcc", name: "Türkis (Der Heiler)" },
                    { color: "#9b59b6", name: "Mystic Violet (Alte Seele)" },
                    { color: "#f1c40f", name: "Golden Sun (Freude)" }
                ];
                let combined = date1 + date2;
                let hash = 0;
                for (let i = 0; i < combined.length; i++) hash += combined.charCodeAt(i);
                const aura = auras[hash % auras.length];

                document.getElementById('aura-overlay-layer').style.background = `radial-gradient(circle, ${aura.color} 0%, transparent 70%)`;
                document.getElementById('aura-text-desc').innerText = `✨ Energetische Aura: ${aura.name}`;
            }

            // ASTRO LOGIC
            let combined = date1 + date2;
            let hash = 0;
            for (let i = 0; i < combined.length; i++) hash += combined.charCodeAt(i);
            const percent = 88 + (hash % 12);
            const archetypes = ["Der ewige Beschützer", "Die Zwillings-Seele", "Der treue Weggefährte", "Der kosmische Spiegel"];
            const archetype = archetypes[hash % archetypes.length];

            document.getElementById('result-percent').innerText = percent + "% MATCH";
            document.getElementById('result-archetype').innerText = "Archetyp: " + archetype;
            
            document.getElementById('karma-result').style.display = 'block';
            document.getElementById('karma-result').style.animation = "fadeIn 1s";
            document.getElementById('astro-product-card').classList.add('highlight-product');
            document.getElementById('astro-product-card').style.opacity = "1"; 
            
            document.getElementById('karma-result').scrollIntoView({behavior: "smooth", block: "center"});
        }
        
        function typewriterEffect(steps, output, callback) {
            let stepIndex = 0; let charIndex = 0;
            output.innerHTML = "> <span class='typing-cursor'></span>";
            function type() {
                if(stepIndex >= steps.length) { callback(); return; }
                if (charIndex < steps[stepIndex].length) {
                    output.innerHTML = `> ${steps[stepIndex].substring(0, charIndex + 1)}<span class='typing-cursor'></span>`;
                    charIndex++; setTimeout(type, 30); 
                } else {
                    stepIndex++; charIndex = 0; setTimeout(() => { output.innerHTML += "<br>"; type(); }, 400); 
                }
            }
            type(); 
        }
        
        document.addEventListener('mousemove', function(e) {
            if (document.body.classList.contains('astro-mode')) {
                let dust = document.createElement('div');
                dust.className = 'stardust';
                document.body.appendChild(dust);
                dust.style.left = e.pageX + 'px';
                dust.style.top = e.pageY + 'px';
                dust.style.transform = `translate(-50%, -50%) translate(${Math.random()*20-10}px, ${Math.random()*20-10}px)`;
                setTimeout(() => { dust.remove(); }, 800);
            }
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if(target) target.scrollIntoView({behavior: 'smooth', block: 'start'});
            });
        });
    </script>
</body>
</html>
